<?php

$golfCourses = [
    "carnoustie" => [
        "name" => "Carnoustie Golf Links",
        "bookingLink" => "https://booking.carnoustie.com/",
        "onlineBooking" => "Yes",
        "greenFee" => "360",
        "image" => "images/carnoustie/general/DJI_0678-Enhanced-NR.jpg",
    ],
    "muirfield" => [
        "name" => "Muirfield",
        "bookingLink" => "https://www.muirfield.org.uk/visitors-new/",
        "onlineBooking" => "No",
        "greenFee" => "395",
        "image" => "",
        "bookingSystem" => "",
    ],
    "Royal Dornoch" => [
        "name" => "Royal Dornoch",
        "bookingLink" => "https://booking.royaldornoch.com/",
        "onlineBooking" => "Yes",
        "greenFee" => "360",
        "image" => "",
    ],
    "Turnberry" => [
        "name" => "Muirfield",
        "bookingLink" =>
            "https://turnberry.booktrump.com/tee-times?propertyid=49",
        "onlineBooking" => "Yes",
        "greenFee" => "545",
        "image" => "",
    ],
    "Kingsbarns" => [
        "name" => "Muirfield",
        "bookingLink" => "https://www.kingsbarns.com/reservations",
        "onlineBooking" => "No",
        "greenFee" => "399",
        "image" => "",
    ],
    "North Berwick" => [
        "name" => "Muirfield",
        "bookingLink" =>
            "https://www.northberwickgolfclub.com/tee_booking_request_form",
        "onlineBooking" => "No",
        "greenFee" => "320",
        "image" => "",
    ],
    "Cabot Highlands" => [
        "name" => "Muirfield",
        "bookingLink" => "https://cabothighlands.com/make-a-reservation",
        "onlineBooking" => "No",
        "greenFee" => "385",
        "image" => "",
    ],
    "crudenbay" => [
        "name" => "Cruden Bay",
        "bookingLink" => "https://crudenbaygolfclub.co.uk/visitors/green-fees/",
        "onlineBooking" => "Yes",
        "greenFee" => "205",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "aberdeen",
    ],
    "Trump Aberdeen" => [
        "name" => "Muirfield",
        "bookingLink" => "https://www.trumpgolfscotland.com/golf/tee-times",
        "onlineBooking" => "Yes",
        "greenFee" => "560",
        "image" => "",
    ],
    "Royal Aberdeen" => [
        "name" => "Muirfield",
        "bookingLink" =>
            "https://www.royalaberdeengolf.com/visitor-information-and-green-fees",
        "onlineBooking" => "No",
        "greenFee" => "245",
        "image" => "",
    ],
    "prestwick" => [
        "name" => "Prestwick",
        "bookingLink" => "https://visitors.brsgolf.com/prestwick#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "340",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "ayrshire",
    ],
    "royaltroon" => [
        "name" => "Royal Troon",
        "bookingLink" =>
            "https://www.brsgolf.com/royaltroon/visitor_home.php?framed=false",
        "onlineBooking" => "Yes",
        "greenFee" => "395",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "ayrshire",
    ],
    "machrihanish" => [
        "name" => "Machrihanish",
        "bookingLink" =>
            "https://machrihanish.hub.clubv1.com/Visitors/TeeSheet",
        "onlineBooking" => "Yes",
        "greenFee" => "155",
        "image" => "",
        "bookingSystem" => "clubv1",
        "region" => "islands",
    ],
    "Gleneagles" => [
        "name" => "Gleneagles",
        "bookingLink" =>
            "https://pursuits.gleneagles.com/reservations/template/21459/?course=The+King%27s",
        "onlineBooking" => "Yes",
        "greenFee" => "375",
        "image" => "",
    ],
    "Western Gailes" => [
        "name" => "Western Gailes",
        "bookingLink" => "https://westerngailes.com/book-a-tee-time/",
        "onlineBooking" => "No",
        "greenFee" => "335",
        "image" => "",
    ],
    "Dumbarnie" => [
        "name" => "Dumbarnie",
        "bookingLink" => "https://visitors.brsgolf.com/dumbarnie#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "350",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "fife",
    ],
    "nairngc" => [
        "name" => "Nairn",
        "bookingLink" => "https://visitors.brsgolf.com/nairngc#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "350",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "highlands",
    ],
    "The Machrie" => [
        "name" => "The Machrie",
        "bookingLink" =>
            "https://book.rguest.eu/onecart/golf/courses/10278/TheMachrie",
        "onlineBooking" => "Yes",
        "greenFee" => "185",
        "image" => "",
    ],
    "Gullane" => [
        "name" => "Gullane",
        "bookingLink" => "https://visitors.brsgolf.com/gullane",
        "onlineBooking" => "Yes",
        "greenFee" => "325",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "eastlothian",
    ],
    "machrihanishdunes" => [
        "name" => "Machrihanish Dunes",
        "bookingLink" => "https://visitors.brsgolf.com/machrihanishdunes",
        "onlineBooking" => "Yes",
        "greenFee" => "125",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "islands",
    ],
    "Brora" => [
        "name" => "Brora",
        "bookingLink" => "https://www.broragolfclub.co.uk/visitorbooking/",
        "onlineBooking" => "Yes",
        "greenFee" => "180",
        "image" => "",
    ],
    "Elie" => [
        "name" => "Elie",
        "bookingLink" => "https://elie.intelligentgolf.co.uk/visitorbooking/",
        "onlineBooking" => "Yes",
        "greenFee" => "160",
        "image" => "",
    ],
    "murcarlinks" => [
        "name" => "Murcar",
        "bookingLink" => "https://visitors.brsgolf.com/murcarlinks",
        "onlineBooking" => "Yes",
        "greenFee" => "195",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "aberdeen",
    ],
    "panmure" => [
        "name" => "Panmure",
        "bookingLink" => "https://visitors.brsgolf.com/panmure#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "195",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "angus",
    ],
    "Lundin Links" => [
        "name" => "Lundin Links",
        "bookingLink" => "https://visitors.brsgolf.com/lundingc#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "175",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "fife",
    ],
    "Moray" => [
        "name" => "Moray",
        "bookingLink" => "https://www.brsgolf.com/moray/visitor_home.php",
        "onlineBooking" => "Yes",
        "greenFee" => "150",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "highlands",
    ],
    "dundonald" => [
        "name" => "Dundonald",
        "bookingLink" => "https://visitors.brsgolf.com/dundonald#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "190",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "ayrshire",
    ],
    "Blairgowrie" => [
        "name" => "Blairgowrie",
        "bookingLink" =>
            "https://blairgowrie.intelligentgolf.co.uk/visitorbooking/",
        "onlineBooking" => "Yes",
        "greenFee" => "155",
        "image" => "",
    ],
    "Dunbar" => [
        "name" => "Dumbar",
        "bookingLink" => "https://www.dunbargolfclub.com/visitorbooking/",
        "onlineBooking" => "Yes",
        "greenFee" => "225",
        "image" => "",
    ],
    "Boat of Garten" => [
        "name" => "Boat of Garten",
        "bookingLink" =>
            "https://boatofgarten.intelligentgolf.co.uk/visitorbooking/",
        "onlineBooking" => "Yes",
        "greenFee" => "115",
        "image" => "",
    ],
    "Southerness" => [
        "name" => "Southerness",
        "bookingLink" => "https://visitors.brsgolf.com/southerness#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "115",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "south",
    ],
    "Luffness" => [
        "name" => "Luffness",
        "bookingLink" => "https://www.luffnessnew.com/visitor-booking/",
        "onlineBooking" => "No",
        "greenFee" => "210",
        "image" => "",
    ],
    "Fraserburgh" => [
        "name" => "Fraseburgh",
        "bookingLink" =>
            "https://fraserburghgolfclub.org/Teebooking/SearchClubDay.aspx",
        "onlineBooking" => "Yes",
        "greenFee" => "150",
        "image" => "",
    ],
    "glasgow" => [
        "name" => "Glasgow Gailes",
        "bookingLink" => "https://www.brsgolf.com/glasgow/visitor_home.php",
        "onlineBooking" => "Yes",
        "greenFee" => "180",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "ayrshire",
    ],
    "Spey Valley" => [
        "name" => "Spey Valley",
        "bookingLink" =>
            "https://macdonald-hotels-spey-valley-championship.book.teeitup.com/",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
    ],
    "montrosegolflinks" => [
        "name" => "Montrose",
        "bookingLink" =>
            "https://visitors.brsgolf.com/montrosegolflinks#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "angus",
    ],
    "Askernish" => [
        "name" => "Askernish",
        "bookingLink" =>
            "https://www.askernishgolfclub.com/Teebooking/SearchClubDay.aspx",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
    ],
    "Scotscraig" => [
        "name" => "Scotscraig",
        "bookingLink" => "https://www.scotscraiggolfclub.com/visitorbooking/",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
    ],
    "levenlinks" => [
        "name" => "Leven",
        "bookingLink" => "https://visitors.brsgolf.com/levenlinks",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "leven",
    ],
    "irvine" => [
        "name" => "Irvine",
        "bookingLink" => "https://visitors.brsgolf.com/irvine#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "ayrshire",
    ],
    "ladybank" => [
        "name" => "Ladybank",
        "bookingLink" => "https://visitors.brsgolf.com/ladybank#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "fife",
    ],
    "prestwickstnicholas" => [
        "name" => "Prestwick St Nicholas",
        "bookingLink" => "https://visitors.brsgolf.com/prestwickstnicholas",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "ayrshire",
    ],
    "westkilbride" => [
        "name" => "West Kilbride",
        "bookingLink" => "https://visitors.brsgolf.com/westkilbride#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "ayrshire",
    ],
    "Longniddry" => [
        "name" => "Longniddry",
        "bookingLink" => "https://www.longniddrygolfclub.co.uk/visitorbooking/",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
    ],
    "golspie" => [
        "name" => "Golspie",
        "bookingLink" => "https://visitors.brsgolf.com/golspie#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "highlands",
    ],
    "Kilspindie" => [
        "bookingLink" => "https://www.kilspindiegolfclub.co.uk/visitorbooking/",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
    ],
    "monifieth" => [
        "name" => "Monifieth",
        "bookingLink" => "https://visitors.brsgolf.com/monifieth#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "angus",
        "courses" => [
            "Medal" => [
                "courseId" => 1,
            ],
            "Ashludie" => [
                "courseId" => 3,
            ],
        ],
    ],
    "Crail" => [
        "name" => "Crail",
        "bookingLink" =>
            "https://eu.cps.golf/CrailNEWv3/(S(0stz324rkgdoc0crajs2jqhy))/Home/nIndex?CourseId=19,18",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
    ],
    "nairndunbargolf" => [
        "name" => "Nairn Dunbar",
        "bookingLink" =>
            "https://visitors.brsgolf.com/nairndunbargolf#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "highlands",
    ],
    "peterhead" => [
        "name" => "Peterhead",
        "bookingLink" => "https://visitors.brsgolf.com/peterhead",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "aberdeen",
    ],
    "downfield" => [
        "name" => "Downfield",
        "bookingLink" => "https://downfield.hub.clubv1.com/Visitors/TeeSheet",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "clubv1",
        "region" => "angus",
    ],
    "lanark" => [
        "name" => "Lanark",
        "bookingLink" => "https://visitors.brsgolf.com/lanark",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "south",
    ],
    "fortrose" => [
        "name" => "Fortrose and Rosemarkie",
        "bookingLink" => "https://www.brsgolf.com/fortrose/visitor_home.php",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "highlands",
    ],
    "pitlochry" => [
        "name" => "Pitlochry",
        "bookingLink" => "https://visitors.brsgolf.com/pitlochry",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "highlands",
    ],
    "Kilmarnock Barassie" => [
        "name" => "Kilmarnock Barassie",
        "bookingLink" => "https://www.kbgc.co.uk/visitor-booking-form",
        "onlineBooking" => "No",
        "greenFee" => "330",
        "image" => "",
    ],
    "eastrenfrewshire" => [
        "name" => "East Renfrewshire",
        "bookingLink" =>
            "https://visitors.brsgolf.com/eastrenfrewshire#/course/1",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "south",
    ],
    "shiskine" => [
        "name" => "Shiskine",
        "bookingLink" => "https://visitors.brsgolf.com/shiskine",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "brs",
        "region" => "islands",
    ],
    "tain" => [
        "name" => "Tain",
        "bookingLink" => "https://tain.hub.clubv1.com/Visitors/TeeSheet",
        "onlineBooking" => "Yes",
        "greenFee" => "330",
        "image" => "",
        "bookingSystem" => "clubv1",
        "region" => "highlands",
    ],
];

uksort($golfCourses, function ($a, $b) {
    return strcasecmp($a, $b); // Compare keys ignoring case
});

function get_courses_for_area($region, $courseList)
{
    foreach ($courseList as $courseName => $courseInfo) {
        if (isset($courseInfo["region"]) && $courseInfo["region"] == $region) {
            $newArray[$courseName] = $courseInfo;
        }
    }

    return $newArray;
}

function build_select_box($region, $label)
{
    $options = "";

    foreach ($region as $key => $properties) {
        if (isset($properties["bookingSystem"])) {
            if (isset($properties["courses"])) {
                foreach ($properties["courses"] as $name => $course) {
                    $options .= "<option value='{$key}' data-onlineBooking={$properties["onlineBooking"]} data-bookingSystem={$properties["bookingSystem"]} data-courseId={$course["courseId"]}>{$properties["name"]} - $name</option>";
                }
            } else {
                $options .= "<option value='{$key}' data-onlineBooking={$properties["onlineBooking"]} data-bookingSystem={$properties["bookingSystem"]}>{$properties["name"]}</option>";
            }
        }
    }

    return "<select multiple='multiple' id='dropDown$label' style='height:200px'>$options</select>";
}
